# 자료형과 선행처리기

## 상수와 변수

- 자료형
  - 프로그램에서 사용하는 자료의 형태
  - 상수와 변수로 구분
  - 프로그램에서 자료(data)처리를 위해서는 자료의 생성과 저장, 처리과정이 필요

### 상수

- 항상 고정된 값을 가지는 자료
- 값이 한번 정해지면 프로그램 도중 그 값을 변경할 수 없는 수

#### 정수형 상수

- 10, 8, 16 진수로 표현

| 구분           | 예                | 비고                                |
|--------------|------------------|-----------------------------------|
| 10진 상수       | 10, -10, 999     | 0~9까지의 숫자를 사용하며, 0으로 시작할 수 없다     |
| 8진 상수        | 011, 055         | 0~7까지의 숫자를 사용하며, 숫자 앞에 0(영)을 붙인다  |
| 16진 상수       | 0xac, 0X2A       | 0~9과 A~F를 사용하며, 숫자앞에 0x나 0X를 붙인다  |
| unsigned형 상수 | 12u, 067u, 0XFAU | 부호 없는 상수를 표현하며, 숫자 뒤에 u나 U를 붙인다.  |
| long형 상수     | 12345i, OXFFL    | 큰 길이의 정수를 표현하며, 숫자 뒤에 I이나 L을 붙인다. |

#### 실수형 상수

- 부동소수점형 상수
- double형 상수가 기본형

| 구분              | 예                         | 비고                  |
|-----------------|---------------------------|---------------------|
| 소수 형식           | 3.14, -0.1234             | 소수점을 사용하여 표현        |
| 지수 형식           | 12E3(=12000), 5e-2(=0.05) | 10진수와 e(E)를 사용하여 표현 |
| float형 상수       | 3.14f, 3.14E-3F           | 숫자 뒤에 f나 F를 붙인다.    |
| long double형 상수 | 3,14l, 3.14E-3L           | 숫자 뒤에 I이나 L을 붙인다.   |

#### 문자형 상수

- 단일 인용부호(' ')로 묵여 있는 1개의 영문자나 숫자문자
- 내부적으로는 해당문자의 ASCII 코드값으로 저장
  - 'A' -> 65, 'a' -> 97, '0' -> 48
- Escape 문자
  - `\n` : 줄바꿈
  - `\t` : 탭
  - `\0` : NULL 문자
  - `\r` : 캐리지 리턴
  - `\b` : 백스페이스
  - `\f` : 폼 피드
  - `\a` : 벨 소리

#### 문자열 상수

- 이중 인용부호(" ")로 묶여 있는 복수개의 영문자나 숫자
- 메모리에 보관될 때는 문자열 끝에 null 문자('\0')가 추가로 저장

![img.png](02_data_type_preprocessor_image/img.png)

### 변수

- 프로그램에서 변할 수 있는 값을 저장하는 공간
- 변수는 사용 전에 반드시 선언하여 컴파일러가 기억공간에서 일정공간을 확보할 수 있도록 해야함
- 모든 변수는 이름이 있다.
- 모든 변수는 정해진 자료형이 있다.
- 모든 변수는 할당된 값을 가진다.

#### 변수명으의 정의 규칙

- 모든 변수는 사용되기 전에 선언되어야 한다.

```c
int a, b;
a = 100;
b = 50;
```


## 자료형과 변수 선언

### 자료형의 종류

- 기본형
  - 정수형
    - int, short, long, unsigned
  - 실수형
    - float, double, long double
  - 문자형
    - char, unsigned char
  - 열거형
    - enum
  - 형 없음
    - void
- 확장형
  - 배열형
  - 함수형
  - 포인터형
  - 구조체형

#### 정수형

- 운영체에 따라 표현 범위가 다를 수 있다.

|자료형|크기|범위|
|---|---|---|
|short int|2byte|-32,768 ~ 32,767|
|long int|4byte|-2,147,483,648 ~ 2,147,483,647|
|int|4byte|-2,147,483,648 ~ 2,147,483,647|
|unsigned short int|2byte|0 ~ 65,535|
|unsigned long int|4byte|0 ~ 4,294,967,295|
|unsigned int|4byte|0 ~ 4,294,967,295|

#### 실수형

- 기본형은 double형

|자료형|크기| 범위                  |
|---|---|---------------------|
|float|4byte| 3.4E-38 ~ 3.4E+38   |
|double|8byte| 1.7E-308 ~ 1.7E+308 |
|long double|8byte| 1.7E-308 ~ 1.7E+308 |

#### 문자형

- ASCII 코드를 사용하여 처리
- -128 ~ 127 범위의 정수형으로 처리

|자료형|크기|범위|
|---|---|---|
|char|1byte|-128 ~ 127|
|unsigned char|1byte|0 ~ 255|


#### 열거형

- 숫자 대신 단어를 사용
- 첫 번째 값은 0으로 설정되어 있고, 그 다음 값들은 1씩 증가한다
- 첫 번째 값을 임의로 정해줄 수도 있다.

```c
enum day {SUN, MON, TUE, WED, THU, FRI, SAT}; 
enum day d1, d2;

enum day {SUN, MON, TUE, WED, THU, FRI, SAT} d1, d2;
enum day {SUN=2, MON, TUE, WED, THU, FRI, SAT} d1, d2;
```

```c
enum day {SUN=1, MON=2, TUE=3, WED=4, THU=5, FRI=6, SAT=7} d1;
d1 = MON;

printf("%d\n", d1); // 2
```

### 변수 선언

- 변수 선언 시 고려 사항
  - 변수에 저장될 값의 크기(범위)
  - 변수의 선언 위치
  - 변수의 초기화 

#### 변수의 저장될 값의 크기 (버퍼 오버/언더 플로우)

```c
#include <stdio.h>

void main() {
  // short int의 범위 -32,768 ~ 32,767
  
  short int num1, num2;
  num1 = 32767 + 1;
  num2 = -32768 - 1;
   
  printf("num1 = %d\n", num1); // -32768
  printf("num2 = %d\n", num2); // 32767
}
```

#### 변수의 선언 위치

- 변수의 선언 위치에 따라 변수의 사용 범위가 달라진다.

```c
// 두 개의 변수 i는 서로 다른 변수이다.
void main() {
  int i;
}

add() {
  int i, j;
}

```

#### 변수의 초기화

```c
#include <stdio.h>

void main() {
    int i, sum;
    
    for (i = 1; i <= 10; i++) {
        sum += i;
    }
    
    // 1부터 10까지의 합 = 55
    // sum 변수를 초기화 하지 않았기 때문에...
    printf("1부터 10까지의 합 = %d\n", sum); // 55가 나오지 않는다. 
}

```

## 선행처리기 (preprocessor)

- 컴파일에 앞서 프로그램 선두에 선언된 지시자들을 미리 처리하는 역할을 수행

### 선행처리기 지시자

- `#include` : 헤더파일을 포함
- `#define` : 상수나 매크로를 정의
- `#if`, `#else`, `#elif`, `#endif` : 조건부 컴파일

### 선행 처리기를 사용할 때 주의점

- 반드시 #으로 시작해야 한다.
- 명령문 끝에는 세미콜론을 붙이지 않는다.
- 명령문은 한 줄에 하나씩 작성한다.
- 소스 프로그램의 첫 부분에 위치한다.

#### #include

- c언어에서 제공되는 헤더파일을 자신의 소스파일에 읽어 들여 함께 컴파일 하고자 할 때 사용
- 형식: `#include <헤더파일명>`, `#include "헤더파일명"`
- 사용예: `#include <stdio.h>`, `#include "stdio.h"`, `#include "/tc/lib/stdio.h"`
- 기능: #include 다음에 제시된 파일을 현재 프로그램에 포함시킨다.
  - `<파일명>` : 표준 디렉토리에서 파일을 찾아 포함
  - `"파일명"` : 현재 사용 중인 디렉토리나 지정된 디렉토리에서 파일을 찾아 포함하며, 또는 드라이브나 경로를 사용

#### #define

- 매크로를 정의할 때 사용
- 매크로
  - 선행처리기 #define을 사용하여 단순 치환되는 자료
  - 프로그램 작성 시에 명령이나 수식 또는 상수값이 자주 사용될 때 이들을 대표하는 이름을 붙여 사용하는 대상
- 매크로 정의
  - 매크로 상수 정의
    - 형식: `#define 매크로명 자료`, `#undef 매크로명`
    - 사용예: `#define PI 3.141592`, `#define MAX 100`
    - 기능: 프로그램에 나오는 매크로명을 지정한 자료로 치환한 후 컴파일하거나 정의를 해제
  - 매크로 함수 정의
    - 형식: `#define 매크로명(인수) (수식)`, `#define 매크로명(인수, 인수) (수식)`
    - 사용예: `#define ADD(a, b) ((a) + (b))`, `#define SQUARE(x) ((x) * (x))`
    - 장점:
      - 선행처리기에 의한 단순 치환 방식이므로, 전달 인자의 자료형을 명시할 필요도 없고, 또 어떠한 자료형 변수를 인자로 전달해도 잘 동작한다.
      - 한 두 줄의 코드인 경우 함수로 정의한 것보다 속도가 빠르다

#### #if, #else, #elif, #endif

- 조건에 따라 프로그램을 컴파일하는 명령
- 최적의 코드로 프로그램을 작성할 수 있기 때문에 시스템의 성능 향상
- #if와 #elif 다음에는 컴파일 여부를 결정하는 조건문 필요
  - 조건문은 선행처리 과정에서 진위 여부를 판단할 수 있어야함
  - 변수 지정이나 함수 호출 불가
  - 주로 매크로 값이 사용

```c
#include <stdio.h>
#define CONDITION 1

void main() {
#if CONDITION
    printf("조건이 참입니다.\n");
#else
    printf("조건이 거짓입니다.\n");
#endif
}
```

`위의 프로그램이 아래의 프로그램처럼 컴파일 된다.`

```c
void main() {
    printf("조건이 참입니다.\n");
}
```